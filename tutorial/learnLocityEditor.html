<div class='well well-small container-fluid'>
  <div class='row-fluid'>
    <div style='background: beige; padding: 3px;'>      
      <div>
        <span class='btn-group'>
          <button type='button' 
            class='btn btn-reverse'
            ng-model='displays.step'
            btn-checkbox>Step</button>
          <button type='button' 
            class='btn btn-info'
            ng-model='displays.html'
            btn-checkbox>HTML</button>
          <button type='button' 
            class='btn btn-info'
            ng-model='displays.css'
            btn-checkbox>CSS</button>
          <button type='button'
            class='btn btn-info'
            ng-model='displays.js'
            btn-checkbox>JS</button>
          <button type='button' 
            class='btn btn-success'
            ng-click='preview()'
            ng-show='!displays.preview'
            >Show Preview <i class='glyphicon glyphicon-search'></i></button>
          <button type='button' 
            class='btn btn-inverse'
            ng-click='previewHide()'
            ng-show='displays.preview'
            >Hide Preview <i class='glyphicon glyphicon-remove-circle'></i></button>        
          <button type='button' 
            class='btn btn-success'
            ng-click='preview()'
            ng-show='displays.preview'
            >Update Preview <i class='glyphicon glyphicon-refresh'></i></button>
        </span>
        <span ng-show='displays.preview'>Update when typing? <input 
          type="checkbox"
          ng-model="update.whenTyping" />
        </span>
        <span ng-show='displays.preview'>Show preview below? <input 
            type="checkbox"
            ng-model='update.previewBelow' />
        </span>        
      </div>
    </div>
  </div>
  <div class='row-fluid'>
    <div class='editor {{getEditorsClass()}}' ng-show='displays.step'>
      <div style='padding: 3px'><strong>Step</strong> <i class='glyphicon glyphicon-tower'></i></div>      
      <div ng-bind-html='code.story'></div>
    </div>
    <div class='editor {{getEditorsClass()}}' ng-show='displays.html'>
      <div><strong>HTML</strong> <i class='glyphicon glyphicon-edit'></i></div>
      <div class='ace_wrapper'>
        <div style='margin-top: 0px' ui-ace="{
          theme: 'chrome',
          useWrapMode: true,
          showGutter: true,
          mode: 'html',
          onLoad: htmlLoaded
        }" ng-model="code.code['html']"></div>
      </div>
    </div>
    <div class='editor {{getEditorsClass()}}' ng-show='displays.css'>
      <div><strong>CSS</strong> <i class='glyphicon glyphicon-edit'></i></div>
      <div class='ace_wrapper'>
        <div ui-ace="{
          theme: 'chrome',
          useWrapMode: true,
          showGutter: true,
          mode: 'css',
          onLoad: cssLoaded
        }" ng-model="code.code['css']"></div>
      </div>
    </div>
    <div class='editor {{getEditorsClass()}}' ng-show='displays.js'>
      <div><strong>JS</strong> <i class='glyphicon glyphicon-edit'></i></div>
      <div class='ace_wrapper'>    
        <div ui-ace="{
          theme: 'chrome',
          useWrapMode: true,
          showGutter: true,
          mode: 'javascript',
          onLoad: jsLoaded
        }" ng-model="code.code['js']"></div>
      </div>
    </div>
    <div class='editor {{getPreviewClass()}}' ng-show='displays.preview'>
      <div><strong>Preview</strong> <i class='glyphicon glyphicon-search'></i></div>
      <iframe style='width: 100%;border: 2px double darkgray' id='{{code.id}}'></iframe>
    </div>    
  </div>
</div>