<div class='well well-small container-fluid'>
  <div class='row-fluid'>
    <div style='background: beige; padding: 3px;'>      
      <div>
        <span class='btn-group'>
          <button type='button' 
            class='btn btn-info'
            ng-model='displays.html'
            btn-checkbox>HTML</button>
          <button type='button' 
            class='btn btn-info'
            ng-model='displays.css'
            btn-checkbox>CSS</button>
          <button type='button'
            class='btn btn-info'
            ng-model='displays.js'
            btn-checkbox>JS</button>
          <button type='button' 
            class='btn btn-success'
            ng-click='preview()'
            ng-show='!displays.preview'
            >Show Preview <i class='icon-eye-open icon-white'></i></button>
          <button type='button' 
            class='btn btn-inverse'
            ng-click='previewHide()'
            ng-show='displays.preview'
            >Hide Preview <i class='icon-eye-open icon-white'></i></button>        
          <button type='button' 
            class='btn btn-success'
            ng-click='preview()'
            ng-show='displays.preview'
            >Update Preview <i class='icon-eye-open icon-white'></i></button>
        </span>
        <span ng-show='displays.preview'>Update when typing? <input 
          type="checkbox"
          ng-model="update.whenTyping" />
        </span>
      </div>
    </div>
  </div>
  <div class='row-fluid'>    
    <div class='{{getEditorsClass()}}'>
      <div class='editor' ng-bind-html-unsafe='code.story'></div>
      <div class='editor' ng-show='displays.html'>
        <div style='padding: 3px'><strong>HTML</strong> <i class='icon-pencil icon-white'></i></div>
        <div class='ace_wrapper'>
          <div style='margin-top: 0px' ui-ace="{
            theme: 'chrome',
            useWrapMode: true,
            showGutter: true,
            mode: 'html',
            onLoad: htmlLoaded
          }" ng-model="code.code['html']"></div>
        </div>
      </div>
      <div class='editor' ng-show='displays.css'>
        <div style='padding: 3px'><strong>CSS</strong> <i class='icon-pencil icon-white'></i></div>
        <div class='ace_wrapper'>
          <div ui-ace="{
            theme: 'chrome',
            useWrapMode: true,
            showGutter: true,
            mode: 'css',
            onLoad: cssLoaded
          }" ng-model="code.code['css']"></div>
        </div>
      </div>
      <div class='editor' ng-show='displays.js'>
        <div style='padding: 3px'><strong>JS</strong> <i class='icon-pencil icon-white'></i></div>
        <div class='ace_wrapper'>    
          <div ui-ace="{
            theme: 'chrome',
            useWrapMode: true,
            showGutter: true,
            mode: 'javascript',
            onLoad: jsLoaded
          }" ng-model="code.code['js']"></div>
        </div>
      </div>
    </div>
    <div class='span6'>
      <div class='editor verticalEditingPane' ng-show='displays.preview'>
        <div style='padding: 3px'><strong>Preview</strong> <i class='icon-eye-open icon-white'></i></div>
        <iframe style='width: 100%;border: 2px double darkgray' id='{{code.id}}'></iframe>
      </div>    
    </div>
  </div>
</div>